<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="智能新闻搜索和总结工具 - 快速获取最新资讯">
    <title>新闻总结助手 - 智能资讯获取</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- API Key 设置面板 -->
    <div id="apiKeyModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🔑 设置 API Key</h2>
                <button id="closeModal" class="close-btn" aria-label="关闭">&times;</button>
            </div>
            <div class="modal-body">
                <p class="hint-text">您需要一个 News API Key 来使用本服务</p>
                <div class="input-group">
                    <label for="apiKeyInput">API Key:</label>
                    <div class="input-wrapper">
                        <input 
                            type="password" 
                            id="apiKeyInput" 
                            placeholder="请输入您的 News API Key"
                            maxlength="50"
                        >
                        <button id="toggleApiKey" class="toggle-btn" aria-label="显示/隐藏">👁️</button>
                    </div>
                </div>
                <div class="help-text">
                    <p>📖 如何获取 API Key？</p>
                    <ol>
                        <li>访问 <a href="https://newsapi.org/" target="_blank" rel="noopener noreferrer">newsapi.org</a></li>
                        <li>点击 "Get API Key" 注册免费账号</li>
                        <li>复制您的 API Key 并粘贴到上方输入框</li>
                    </ol>
                    <p class="privacy-note">🔒 您的 API Key 仅保存在本地浏览器，不会上传到任何服务器</p>
                </div>
                <div class="modal-actions">
                    <button id="saveApiKey" class="btn btn-primary">保存</button>
                    <button id="clearApiKey" class="btn btn-secondary">清除</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 主容器 -->
    <div class="container">
        <!-- 头部 -->
        <header class="header">
            <h1 class="logo">📰 新闻总结助手</h1>
            <button id="settingsBtn" class="settings-btn" aria-label="设置" title="设置 API Key">
                ⚙️
            </button>
        </header>

        <!-- 搜索区域 -->
        <section class="search-section">
            <div class="search-container">
                <div class="search-box">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-input" 
                        placeholder="输入想要了解的内容，如：人工智能、特斯拉..."
                        maxlength="100"
                        autocomplete="off"
                    >
                    <button id="searchBtn" class="search-btn">
                        <span class="btn-text">获取</span>
                        <span class="btn-icon">🔍</span>
                    </button>
                </div>
                <div class="search-hint">💡 搜索最近24小时内的最新资讯</div>
            </div>
        </section>

        <!-- 加载指示器 -->
        <div id="loadingIndicator" class="loading hidden">
            <div class="loading-spinner"></div>
            <p class="loading-text">正在搜索最新资讯...</p>
        </div>

        <!-- 错误提示 -->
        <div id="errorMessage" class="error hidden">
            <div class="error-content">
                <span class="error-icon">⚠️</span>
                <p class="error-text"></p>
                <button id="retryBtn" class="btn btn-retry hidden">重试</button>
            </div>
        </div>

        <!-- 结果展示区域 -->
        <div id="resultContainer" class="result-container hidden">
            <!-- 总结概述 -->
            <section class="summary-section">
                <h2 class="section-title">📊 综合总结</h2>
                <div id="overviewContent" class="overview-content"></div>
            </section>

            <!-- 关键要点 -->
            <section class="keypoints-section">
                <h2 class="section-title">💡 关键要点</h2>
                <ul id="keypointsList" class="keypoints-list"></ul>
            </section>

            <!-- 热门关键词 -->
            <section class="keywords-section">
                <h2 class="section-title">🔥 热门关键词</h2>
                <div id="keywordsContainer" class="keywords-container"></div>
            </section>

            <!-- 信息源 -->
            <section class="sources-section">
                <h2 class="section-title">📑 信息来源</h2>
                <div id="sourcesList" class="sources-list"></div>
            </section>
        </div>

        <!-- 页脚 -->
        <footer class="footer">
            <p>数据来源: <a href="https://newsapi.org/" target="_blank" rel="noopener noreferrer">News API</a></p>
            <p>免费版每天限100次请求 | 开源项目</p>
        </footer>
    </div>

    <!-- Toast 通知 -->
    <div id="toast" class="toast hidden">
        <span class="toast-icon"></span>
        <span class="toast-message"></span>
    </div>

    <!-- JavaScript 模块 -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
